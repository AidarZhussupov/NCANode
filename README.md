
![NCANode](docs/NCANode.png)


‚≠ê –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ-—Å–µ—Ä–≤–µ—Ä –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ –¶–∏—Ñ—Ä–æ–≤—ã–º–∏ –ü–æ–¥–ø–∏—Å—å—é (–≠–¶–ü) –†–ö

---

![License:MIT](https://img.shields.io/badge/license-MIT-green.svg)
![Downloads](https://img.shields.io/github/downloads/malikzh/NCANode/total.svg)
---

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –ö—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä (Windows, Mac OS, Linux)
- –ü–æ–¥–ø–∏—Å—å XML –¥–∞–Ω–Ω—ã—Ö
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–µ–π
- –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–µ
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ø–æ—á–∫–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –¥–æ –ö–£–¶
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ OCSP –∏ CRL
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ RabbitMQ
- –ü–∞—Ä—Å–∏–Ω–≥ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏–∑ –ò–ò–ù
- –†–∞–±–æ—Ç–∞ —Å API –ø–æ—Å—Ä–µ–¥—Å—Ç–≤–æ–º JSON
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Docker
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ TSP üÜï
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ–¥–ø–∏—Å–∏ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–Ω–µ —Ç–æ–ª—å–∫–æ XML) üÜï
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–±–æ—Ç—ã —Å CMS ( [Cryptographic Message Syntax](https://en.wikipedia.org/wiki/Cryptographic_Message_Syntax) ) üÜï

## –ö–æ–º—É –Ω–∞–¥–æ?

–ï—Å–ª–∏ –í–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–¥–ø–∏—Å—å –¥–∞–Ω–Ω—ã—Ö –±—É–¥—å —Ñ–æ—Ä–º–∞—Ç–∞ XML –∏–ª–∏ –ª—é–±–æ–º –¥—Ä—É–≥–æ–º –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ, –ø—Ä–∏ —ç—Ç–æ–º –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞,
–í—ã –º–æ–∂–µ—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å NCANode –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –∏ –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ –Ω–µ–º—É –ø–æ—Å—Ä–µ–¥—Å—Ç–≤–æ–º API (Http/RabbitMQ).

## –ö—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç?

–ò—Å—Ö–æ–¥—è –∏–∑ –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –ø–∏—Å–µ–º –æ—Ç –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–æ–≤, NCANode –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –≤ —Å—Ç–∞—Ä—Ç–∞–ø–∞—Ö, —Ç–∞–∫ –∏ –≤ –∫—Ä—É–ø–Ω—ã—Ö —Å—Ç—Ä–∞—Ö–æ–≤—ã—Ö –∫–æ–º–ø–∞–Ω–∏—è—Ö

## –ü—Ä–∏–º–µ—Ä

–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ (–∑–∞–ø—Ä–æ—Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–ª—é—á–µ):

```json
{
	"version": "1.0",
	"method": "PKCS12.info",
	"params": {
		"p12":"MIINkwIBAzCCDU0GCSqGSIb3DQEHAaCCDTJ3i8pKvvVbY...",
		"password":"Qwerty12",
		"verifyOcsp": true
	}
}
```

–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:

```json
{
    "result": {
        "notAfter": "2019-08-22 18:11:36",
        "ocsp": {
            "revokationReason": 0,
            "revokationTime": null,
            "status": "ACTIVE"
        },
        "chain": [
            {
                "valid": true,
                "notAfter": "2019-08-22 18:11:36",
                "keyUsage": "AUTH",
                "serialNumber": "122684438670642568061334282296011886211357830154",
                "subject": {
                    "lastName": "–¢–ï–°–¢–û–í–ò–ß",
                    "country": "KZ",
                    "commonName": "–¢–ï–°–¢–û–í –¢–ï–°–¢",
                    "gender": "",
                    "surname": "–¢–ï–°–¢–û–í",
                    "locality": "–ê–õ–ú–ê–¢–´",
                    "dn": "CN=–¢–ï–°–¢–û–í –¢–ï–°–¢,SURNAME=–¢–ï–°–¢–û–í,SERIALNUMBER=IIN123456789011,C=KZ,L=–ê–õ–ú–ê–¢–´,S=–ê–õ–ú–ê–¢–´,G=–¢–ï–°–¢–û–í–ò–ß",
                    "state": "–ê–õ–ú–ê–¢–´",
                    "birthDate": "12-34-56",
                    "iin": "123456789011"
                },
                "signAlg": "SHA256WithRSAEncryption",
                "sign": "LLQvGPQP+rdLBTPRf0EgLIo/D9TqxeZ52pRyuCHN...",
                "publicKey": "MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMII...",
                "issuer": {
                    "commonName": "“∞–õ–¢–¢–´“ö –ö–£”ò–õ–ê–ù–î–´–†–£–®–´ –û–†–¢–ê–õ–´“ö (RSA)",
                    "country": "KZ",
                    "dn": "C=KZ,CN=“∞–õ–¢–¢–´“ö –ö–£”ò–õ–ê–ù–î–´–†–£–®–´ –û–†–¢–ê–õ–´“ö (RSA)"
                },
                "notBefore": "2018-08-22 18:11:36",
                "keyUser": [
                    "INDIVIDUAL"
                ]
            }
        ],
        "serialNumber": "122684438670642568061334282296011886211357830154",
        "subject": {
            "lastName": "–¢–ï–°–¢–û–í–ò–ß",
            "country": "KZ",
            "commonName": "–¢–ï–°–¢–û–í –¢–ï–°–¢",
            "gender": "",
            "surname": "–¢–ï–°–¢–û–í",
            "locality": "–ê–õ–ú–ê–¢–´",
            "dn": "CN=–¢–ï–°–¢–û–í –¢–ï–°–¢,SURNAME=–¢–ï–°–¢–û–í,SERIALNUMBER=IIN123456789011,C=KZ,L=–ê–õ–ú–ê–¢–´,S=–ê–õ–ú–ê–¢–´,G=–¢–ï–°–¢–û–í–ò–ß",
            "state": "–ê–õ–ú–ê–¢–´",
            "birthDate": "12-34-56",
            "iin": "123456789011"
        },
        "signAlg": "SHA256WithRSAEncryption",
        "sign": "LLQvGPQP+rdLBTPRf0EgLIo/D9TqxeZ52pRyuCHNm5P2iOdSn3DuDid1k4pNFHFDIuJ...",
        "publicKey": "MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAtKWLOJf9qCqA6EO/SV...",
        "issuer": {
            "commonName": "“∞–õ–¢–¢–´“ö –ö–£”ò–õ–ê–ù–î–´–†–£–®–´ –û–†–¢–ê–õ–´“ö (RSA)",
            "country": "KZ",
            "dn": "C=KZ,CN=“∞–õ–¢–¢–´“ö –ö–£”ò–õ–ê–ù–î–´–†–£–®–´ –û–†–¢–ê–õ–´“ö (RSA)"
        },
        "notBefore": "2018-08-22 18:11:36",
        "keyUser": [
            "INDIVIDUAL"
        ],
        "valid": true,
        "keyUsage": "AUTH"
    },
    "message": "",
    "status": 0
}
```

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –Ω–∞ http://ncanode.kz

## –ê–≤—Ç–æ—Ä—ã

- **Malik Zharykov** - Initial work

## –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

- ‚≠ê [@exe-dealer](https://github.com/exe-dealer) - –ó–∞ Dockerfile

## –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç –ª–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π [MIT](LICENSE)

## –í–∞–∂–Ω–æ!!!

–ü–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é  –ê–û ¬´–ù–ò–¢¬ª | –ù–£–¶ –†–ö. –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ `kalkancrypt-0.4.jar` –∏ `kalkancrypt_xmldsig-0.3.jar`
–ë—ã–ª–∏ —É–¥–∞–ª–µ–Ω—ã –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è, –ø–æ—ç—Ç–æ–º—É –¥–ª—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –í–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–¥—Å—Ç–∞–≤–∏—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
–∏–∑ –∫–æ–º–ø–ª–µ–∫—Ç–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ (SDK) –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `/lib`.

----

–°–¥–µ–ª–∞–Ω–æ —Å ‚ù§Ô∏è